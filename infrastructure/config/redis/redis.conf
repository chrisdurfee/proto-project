# Redis performance & security configuration
# No password required - Redis is only accessible within Docker network (no exposed ports)

# Persistent append-only file
appendonly yes
appendfsync everysec
# Require password if provided via ENV (cannot interpolate here); container command passes --requirepass if set.
# We'll still rename risky commands for safety.
rename-command FLUSHALL ""
rename-command FLUSHDB ""
rename-command CONFIG ""
rename-command SHUTDOWN ""
rename-command DEBUG ""

# Memory optimization
maxmemory-policy allkeys-lru

# Networking
protected-mode yes
port 6379

# Disable saving RDB snapshots if AOF is enabled and durability tradeoff is acceptable
save ""
