# PHP-FPM Proxy Configuration
# Routes PHP requests to PHP-FPM via FastCGI Protocol

<IfModule proxy_fcgi_module>
    # Define the PHP-FPM backend
    # Using TCP connection to 127.0.0.1:9000
    <FilesMatch \.php$>
        SetHandler "proxy:fcgi://127.0.0.1:9000"
    </FilesMatch>

    # DirectoryIndex with PHP files
    DirectoryIndex index.php index.html

    # Proxy timeout settings (match PHP-FPM timeout)
    ProxyTimeout 300

    # Pass Authorization header to PHP-FPM
    SetEnvIfNoCase ^Authorization$ "(.+)" HTTP_AUTHORIZATION=$1
</IfModule>
